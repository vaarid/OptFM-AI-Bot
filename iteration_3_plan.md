# –ò—Ç–µ—Ä–∞—Ü–∏—è 3: RAG –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–ø—Ä–∞–π—Å OptFM)

## üéØ –¶–µ–ª—å
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–π—Å OptFM –≤ —Å–∏—Å—Ç–µ–º—É RAG –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ü–µ–Ω —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

## üìã –ó–∞–¥–∞—á–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –¥–ª—è Excel —Ñ–∞–π–ª–æ–≤ –ø—Ä–∞–π—Å–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí —Ç–æ–≤–∞—Ä—ã)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∞–π—Å–∞ –∏–∑ —Ñ–∞–π–ª–∞
- [ ] –°–æ–∑–¥–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM

### 2. –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (ChromaDB)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å ChromaDB
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º

### 3. –≠–º–±–µ–¥–¥–∏–Ω–≥–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å sentence-transformers
- [ ] –°–æ–∑–¥–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

### 4. RAG –º–µ–Ω–µ–¥–∂–µ—Ä
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å ProductRAGManager
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∑–∞–ø—Ä–æ—Å—É
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É /search –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å RAG –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 6. API –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∞–π—Å–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
```
src/
‚îú‚îÄ‚îÄ rag/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ price_parser.py          # –ü–∞—Ä—Å–µ—Ä Excel —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ product_rag_manager.py   # RAG –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ embeddings_manager.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ products.json            # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ price_cache/             # –ö—ç—à –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø—Ä–∞–π—Å–æ–≤
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ price_upload.py          # API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∞–π—Å–∞
```

### –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö:
```json
{
  "id": "–£–¢-00025058",
  "name": "FM –º–æ–¥—É–ª—è—Ç–æ—Ä BOROFONE BC43 (QC3.0) —á–µ—Ä–Ω—ã–π",
  "category": "–ê–≤—Ç–æ–∞–∫—Å–µ—Å—Å—É–∞—Ä—ã",
  "subcategory": "FM - –º–æ–¥—É–ª—è—Ç–æ—Ä—ã",
  "price": 526,
  "brand": "BOROFONE",
  "description": "FM –º–æ–¥—É–ª—è—Ç–æ—Ä —Å –±—ã—Å—Ç—Ä–æ–π –∑–∞—Ä—è–¥–∫–æ–π QC3.0",
  "embedding": [0.1, 0.2, ...],
  "metadata": {
    "status": "active",
    "last_updated": "2025-06-25"
  }
}
```

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **ChromaDB**: –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **sentence-transformers**: –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- **pandas**: –û–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–æ–≤
- **FastAPI**: API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ < 2 —Å–µ–∫—É–Ω–¥—ã
- [ ] –¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ > 80%
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∞–π—Å–∞ —á–µ—Ä–µ–∑ API
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –±–æ—Ç–æ–º

## üöÄ –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö (1-2 –¥–Ω—è)
- –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä Excel —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∞–π—Å–∞
- –°–æ–∑–¥–∞—Ç—å JSON —Å—Ö–µ–º—É

### –≠—Ç–∞–ø 2: ChromaDB –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (1-2 –¥–Ω—è)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ChromaDB
- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫

### –≠—Ç–∞–ø 3: RAG –º–µ–Ω–µ–¥–∂–µ—Ä (2-3 –¥–Ω—è)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- –°–æ–∑–¥–∞—Ç—å ProductRAGManager
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º (1-2 –¥–Ω—è)
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ–∏—Å–∫–∞
- –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –≠—Ç–∞–ø 5: API –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)
- –°–æ–∑–¥–∞—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º Excel
- –°–æ–∑–¥–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CRM
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å FAQ —Å–∏—Å—Ç–µ–º–æ–π
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
